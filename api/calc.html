<!DOCTYPE html>
<html lang="en">
<head>
    <title>/api/calc</title>
    <script>
        function getOutput() {
            function getUrlVars() {
                let vars = {};
                window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function (m, key, value) {
                    vars[key] = value;
                })
                return vars;
            }
            let problem = getUrlVars()["problem"]
            if (problem.match(/[!\[\]{}a-zA-Z]/i)) {
                document.getElementById("output").innerHTML = '{"output": "error"}'
            } else {
                document.getElementById("output").innerHTML = `{"output": ${eval(problem)}}`
            }
        }
    </script>
</head>
<body onload="getOutput()">
    <p id="output"></p>
</body>
</html>